{% comment %}
Custom breadcrumb navigation override for Minimal Mistakes theme
Shows: Home > Year > Post Title (simplified structure)
{% endcomment %}

{% if page.header.overlay_color or page.header.overlay_image or page.header.image %}
  {% assign separator = site.data.ui-text[site.locale].breadcrumb_separator | default: "/" %}
{% else %}
  {% assign separator = site.data.ui-text[site.locale].breadcrumb_separator | default: "/" %}
{% endif %}

{% if page.url != "/" and site.breadcrumbs %}
  <nav class="breadcrumbs">
    <ol itemscope itemtype="https://schema.org/BreadcrumbList">
      {% comment %} Home breadcrumb {% endcomment %}
      <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a href="{{ '/' | relative_url }}" itemprop="item"><span itemprop="name">{{ site.data.ui-text[site.locale].breadcrumb_home_label | default: "Home" }}</span></a>
        <meta itemprop="position" content="1" />
      </li>
      <span class="sep">{{ separator }}</span>
      
      {% comment %} For blog posts, show year and title only {% endcomment %}
      {% if page.categories %}
        {% for category in page.categories limit:1 %}
          {% comment %} Show year from category (assuming first category is the year) {% endcomment %}
          <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
            <a href="{{ '/categories/#' | append: category | relative_url }}" itemprop="item"><span itemprop="name">{{ category }}</span></a>
            <meta itemprop="position" content="2" />
          </li>
          <span class="sep">{{ separator }}</span>
        {% endfor %}
      {% endif %}
      
      {% comment %} Current page title {% endcomment %}
      <li class="current">{{ page.title }}</li>
    </ol>
  </nav>
{% endif %}